# INSTALLATION GUIDE

## Configuration of the virtual machine
Configurazione virtual machine e moduli (mettiamo anche il link che ci ha dato africa?)

load_modules.sh -> da caricare prima di lanciare i programmi

## Download and installation of IsoGlib
Download IsoGlib library from the provided link (private on bitbucket.org) and switch to branch `Learning_pacs_anedp_project_guido_vidulis`

Compile the library:

• forniamo il file di configurazione per isoglib (In una cartella della repo OpenNN Forse meglio in isoglib? Sennò bisogna invertire questo step e il successivo) Direi qui in isoglib

+ source configure.sh
+ in BuildRelease: make

Warning: sometimes it is necessary to remove the file `isoglib/isoglib/isoglib_config.hpp` that is generated by error and causes MPI errors sduring the compilation of the library.

## Download and installation of OpenNN
Download OpenNN from https://github.com/margheguido/OpenNN.git.

NB: Download OpenNN in the same folder of isoglib, since linking phase have been tested only in these conditions.

To compile it type:
+ mkdir build
+ cd build
+ cmake ..

The library comes with some examples (`OpenNN/examples`). We implemented the Neural Network as a new example named SUPG (folder `OpenNN/examples/SUPG`) which will be built automatically.

-> risolvere il problema dei file dati che non si copiano da examples a build (Fatto? si) per provare eliminali da build/examples/SUPG e fai cmake ..

## How to use the provided test

* The possible dataset are stored in the folder `OpenNN/PACS_ANEDP_Project/DatasetGenerationSUPGDataset`. To understand how they are labeled and how to generate new ones, read the file `OpenNN/PACS_ANEDP_Project/README.md`
To use one of them, it has to be renamed as `SUPG.txt` and placed in `OpenNN/build/examples/SUPG/data/Test(1 or 2)` (oppure in`OpenNN/examples/SUPG/data/Test(1 or 2)` prima di fare cmake, lo scriviamo?)

* To run the test and obtain the output on a txt file, type ( in `OpenNN/build/examples/SUPG`)
 `./SUPG > output.txt`
    this file will contain the full output, including the repeated output written by IsoGlib during the solving process.
    What we actually use for the PostProcessing phase, are the values printed in the end of the file:
      - `Training error `
      - `Validation error`
      - `[Input] Mu`
      - `[Output] Unscaled tau`
      - `[Output] Unscaled tau`
    To use them for PostProcessing, they have to be copied in a new file, placed in `OpenNN/PACS_ANEDP_Project/SUPGOutput`
    (see `OpenNN/PACS_ANEDP_Project/README.md` for more details)
      Va bene detto così?

## How to add a test

NB: We worked on the PACS virtual machine, so everything have been tested only inside that enviroment.
